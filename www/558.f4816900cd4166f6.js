"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[558],{9169:(I,k,l)=>{l.d(k,{N:()=>m,q:()=>h});var r=l(467),g=l(2709);class h{constructor(f){this.southwest=f.southwest,this.center=f.center,this.northeast=f.northeast}contains(f){var d=this;return(0,r.A)(function*(){return(yield g.P.mapBoundsContains({bounds:d,point:f})).contains})()}extend(f){var d=this;return(0,r.A)(function*(){const a=yield g.P.mapBoundsExtend({bounds:d,point:f});return d.southwest=a.bounds.southwest,d.center=a.bounds.center,d.northeast=a.bounds.northeast,d})()}}var m=function(t){return t.Normal="Normal",t.Hybrid="Hybrid",t.Satellite="Satellite",t.Terrain="Terrain",t.None="None",t}(m||{})},2709:(I,k,l)=>{l.d(k,{P:()=>g});const g=(0,l(5083).F3)("CapacitorGoogleMaps",{web:()=>l.e(190).then(l.bind(l,1190)).then(h=>new h.CapacitorGoogleMapsWeb)});g.addListener("isMapInFocus",h=>{var m;const d=document.elementFromPoint(h.x,h.y),P=(null===(m=d?.dataset)||void 0===m?void 0:m.internalId)===h.mapId;g.dispatchMapEvent({id:h.mapId,focus:P})})},9558:(I,k,l)=>{l.r(k),l.d(k,{MapDireccionPedidoComponent:()=>O});var r=l(467),g=l(177),h=l(9169),m=l(5083),t=l(2709);class f extends HTMLElement{constructor(){super()}connectedCallback(){if(this.innerHTML="","ios"==m.Ii.getPlatform()){this.style.overflow="scroll",this.style["-webkit-overflow-scrolling"]="touch";const n=document.createElement("div");n.style.height="200%",this.appendChild(n)}}}customElements.define("capacitor-google-map",f);class d{constructor(n){this.element=null,this.resizeObserver=null,this.handleScrollEvent=()=>this.updateMapBounds(),this.id=n}static create(n,e){return(0,r.A)(function*(){const i=new d(n.id);if(!n.element)throw new Error("container element is required");void 0===n.config.androidLiteMode&&(n.config.androidLiteMode=!1),i.element=n.element,i.element.dataset.internalId=n.id;const s=yield d.getElementBounds(n.element);if(n.config.width=s.width,n.config.height=s.height,n.config.x=s.x,n.config.y=s.y,n.config.devicePixelRatio=window.devicePixelRatio,"android"==m.Ii.getPlatform()&&i.initScrolling(),m.Ii.isNativePlatform()){n.element={};const u=()=>{var C,p;const y=null!==(p=null===(C=i.element)||void 0===C?void 0:C.getBoundingClientRect())&&void 0!==p?p:{};return{x:y.x,y:y.y,width:y.width,height:y.height}},L=()=>{t.P.onDisplay({id:i.id,mapBounds:u()})},w=()=>{t.P.onResize({id:i.id,mapBounds:u()})},M=i.element.closest(".ion-page");"ios"===m.Ii.getPlatform()&&M&&(M.addEventListener("ionViewWillEnter",()=>{setTimeout(()=>{L()},100)}),M.addEventListener("ionViewDidEnter",()=>{setTimeout(()=>{L()},100)}));const v={width:s.width,height:s.height,isHidden:!1};i.resizeObserver=new ResizeObserver(()=>{if(null!=i.element){const C=i.element.getBoundingClientRect(),p=0===C.width&&0===C.height;p||(v.isHidden?"ios"===m.Ii.getPlatform()&&!M&&L():(v.width!==C.width||v.height!==C.height)&&w()),v.width=C.width,v.height=C.height,v.isHidden=p}}),i.resizeObserver.observe(i.element)}if(yield new Promise((u,L)=>{setTimeout((0,r.A)(function*(){try{yield t.P.create(n),u(void 0)}catch(w){L(w)}}),200)}),e){const u=yield t.P.addListener("onMapReady",L=>{L.mapId==i.id&&(e(L),u.remove())})}return i})()}static getElementBounds(n){return(0,r.A)(function*(){return new Promise(e=>{let i=n.getBoundingClientRect();if(0==i.width){let s=0;const u=setInterval(function(){0==i.width&&s<30?(i=n.getBoundingClientRect(),s++):(30==s&&console.warn("Map size could not be determined"),clearInterval(u),e(i))},100)}else e(i)})})()}enableTouch(){var n=this;return(0,r.A)(function*(){return t.P.enableTouch({id:n.id})})()}disableTouch(){var n=this;return(0,r.A)(function*(){return t.P.disableTouch({id:n.id})})()}enableClustering(n){var e=this;return(0,r.A)(function*(){return t.P.enableClustering({id:e.id,minClusterSize:n})})()}disableClustering(){var n=this;return(0,r.A)(function*(){return t.P.disableClustering({id:n.id})})()}addMarker(n){var e=this;return(0,r.A)(function*(){return(yield t.P.addMarker({id:e.id,marker:n})).id})()}addMarkers(n){var e=this;return(0,r.A)(function*(){return(yield t.P.addMarkers({id:e.id,markers:n})).ids})()}removeMarker(n){var e=this;return(0,r.A)(function*(){return t.P.removeMarker({id:e.id,markerId:n})})()}removeMarkers(n){var e=this;return(0,r.A)(function*(){return t.P.removeMarkers({id:e.id,markerIds:n})})()}addPolygons(n){var e=this;return(0,r.A)(function*(){return(yield t.P.addPolygons({id:e.id,polygons:n})).ids})()}addPolylines(n){var e=this;return(0,r.A)(function*(){return(yield t.P.addPolylines({id:e.id,polylines:n})).ids})()}removePolygons(n){var e=this;return(0,r.A)(function*(){return t.P.removePolygons({id:e.id,polygonIds:n})})()}addCircles(n){var e=this;return(0,r.A)(function*(){return(yield t.P.addCircles({id:e.id,circles:n})).ids})()}removeCircles(n){var e=this;return(0,r.A)(function*(){return t.P.removeCircles({id:e.id,circleIds:n})})()}removePolylines(n){var e=this;return(0,r.A)(function*(){return t.P.removePolylines({id:e.id,polylineIds:n})})()}destroy(){var n=this;return(0,r.A)(function*(){var e;return"android"==m.Ii.getPlatform()&&n.disableScrolling(),m.Ii.isNativePlatform()&&(null===(e=n.resizeObserver)||void 0===e||e.disconnect()),n.removeAllMapListeners(),t.P.destroy({id:n.id})})()}setCamera(n){var e=this;return(0,r.A)(function*(){return t.P.setCamera({id:e.id,config:n})})()}getMapType(){var n=this;return(0,r.A)(function*(){const{type:e}=yield t.P.getMapType({id:n.id});return h.N[e]})()}setMapType(n){var e=this;return(0,r.A)(function*(){return t.P.setMapType({id:e.id,mapType:n})})()}enableIndoorMaps(n){var e=this;return(0,r.A)(function*(){return t.P.enableIndoorMaps({id:e.id,enabled:n})})()}enableTrafficLayer(n){var e=this;return(0,r.A)(function*(){return t.P.enableTrafficLayer({id:e.id,enabled:n})})()}enableAccessibilityElements(n){var e=this;return(0,r.A)(function*(){return t.P.enableAccessibilityElements({id:e.id,enabled:n})})()}enableCurrentLocation(n){var e=this;return(0,r.A)(function*(){return t.P.enableCurrentLocation({id:e.id,enabled:n})})()}setPadding(n){var e=this;return(0,r.A)(function*(){return t.P.setPadding({id:e.id,padding:n})})()}getMapBounds(){var n=this;return(0,r.A)(function*(){return new h.q(yield t.P.getMapBounds({id:n.id}))})()}fitBounds(n,e){var i=this;return(0,r.A)(function*(){return t.P.fitBounds({id:i.id,bounds:n,padding:e})})()}initScrolling(){const n=document.getElementsByTagName("ion-content");for(let e=0;e<n.length;e++)n[e].scrollEvents=!0;window.addEventListener("ionScroll",this.handleScrollEvent),window.addEventListener("scroll",this.handleScrollEvent),window.addEventListener("resize",this.handleScrollEvent),screen.orientation?screen.orientation.addEventListener("change",()=>{setTimeout(this.updateMapBounds,500)}):window.addEventListener("orientationchange",()=>{setTimeout(this.updateMapBounds,500)})}disableScrolling(){window.removeEventListener("ionScroll",this.handleScrollEvent),window.removeEventListener("scroll",this.handleScrollEvent),window.removeEventListener("resize",this.handleScrollEvent),screen.orientation?screen.orientation.removeEventListener("change",()=>{setTimeout(this.updateMapBounds,1e3)}):window.removeEventListener("orientationchange",()=>{setTimeout(this.updateMapBounds,1e3)})}updateMapBounds(){if(this.element){const n=this.element.getBoundingClientRect();t.P.onScroll({id:this.id,mapBounds:{x:n.x,y:n.y,width:n.width,height:n.height}})}}setOnCameraIdleListener(n){var e=this;return(0,r.A)(function*(){e.onCameraIdleListener&&e.onCameraIdleListener.remove(),e.onCameraIdleListener=n?yield t.P.addListener("onCameraIdle",e.generateCallback(n)):void 0})()}setOnBoundsChangedListener(n){var e=this;return(0,r.A)(function*(){e.onBoundsChangedListener&&e.onBoundsChangedListener.remove(),e.onBoundsChangedListener=n?yield t.P.addListener("onBoundsChanged",e.generateCallback(n)):void 0})()}setOnCameraMoveStartedListener(n){var e=this;return(0,r.A)(function*(){e.onCameraMoveStartedListener&&e.onCameraMoveStartedListener.remove(),e.onCameraMoveStartedListener=n?yield t.P.addListener("onCameraMoveStarted",e.generateCallback(n)):void 0})()}setOnClusterClickListener(n){var e=this;return(0,r.A)(function*(){e.onClusterClickListener&&e.onClusterClickListener.remove(),e.onClusterClickListener=n?yield t.P.addListener("onClusterClick",e.generateCallback(n)):void 0})()}setOnClusterInfoWindowClickListener(n){var e=this;return(0,r.A)(function*(){e.onClusterInfoWindowClickListener&&e.onClusterInfoWindowClickListener.remove(),e.onClusterInfoWindowClickListener=n?yield t.P.addListener("onClusterInfoWindowClick",e.generateCallback(n)):void 0})()}setOnInfoWindowClickListener(n){var e=this;return(0,r.A)(function*(){e.onInfoWindowClickListener&&e.onInfoWindowClickListener.remove(),e.onInfoWindowClickListener=n?yield t.P.addListener("onInfoWindowClick",e.generateCallback(n)):void 0})()}setOnMapClickListener(n){var e=this;return(0,r.A)(function*(){e.onMapClickListener&&e.onMapClickListener.remove(),e.onMapClickListener=n?yield t.P.addListener("onMapClick",e.generateCallback(n)):void 0})()}setOnPolygonClickListener(n){var e=this;return(0,r.A)(function*(){e.onPolygonClickListener&&e.onPolygonClickListener.remove(),e.onPolygonClickListener=n?yield t.P.addListener("onPolygonClick",e.generateCallback(n)):void 0})()}setOnCircleClickListener(n){var e=this;return(0,r.A)(function*(){e.onCircleClickListener&&e.onCircleClickListener.remove(),e.onCircleClickListener=n?yield t.P.addListener("onCircleClick",e.generateCallback(n)):void 0})()}setOnMarkerClickListener(n){var e=this;return(0,r.A)(function*(){e.onMarkerClickListener&&e.onMarkerClickListener.remove(),e.onMarkerClickListener=n?yield t.P.addListener("onMarkerClick",e.generateCallback(n)):void 0})()}setOnPolylineClickListener(n){var e=this;return(0,r.A)(function*(){e.onPolylineClickListener&&e.onPolylineClickListener.remove(),e.onPolylineClickListener=n?yield t.P.addListener("onPolylineClick",e.generateCallback(n)):void 0})()}setOnMarkerDragStartListener(n){var e=this;return(0,r.A)(function*(){e.onMarkerDragStartListener&&e.onMarkerDragStartListener.remove(),e.onMarkerDragStartListener=n?yield t.P.addListener("onMarkerDragStart",e.generateCallback(n)):void 0})()}setOnMarkerDragListener(n){var e=this;return(0,r.A)(function*(){e.onMarkerDragListener&&e.onMarkerDragListener.remove(),e.onMarkerDragListener=n?yield t.P.addListener("onMarkerDrag",e.generateCallback(n)):void 0})()}setOnMarkerDragEndListener(n){var e=this;return(0,r.A)(function*(){e.onMarkerDragEndListener&&e.onMarkerDragEndListener.remove(),e.onMarkerDragEndListener=n?yield t.P.addListener("onMarkerDragEnd",e.generateCallback(n)):void 0})()}setOnMyLocationButtonClickListener(n){var e=this;return(0,r.A)(function*(){e.onMyLocationButtonClickListener&&e.onMyLocationButtonClickListener.remove(),e.onMyLocationButtonClickListener=n?yield t.P.addListener("onMyLocationButtonClick",e.generateCallback(n)):void 0})()}setOnMyLocationClickListener(n){var e=this;return(0,r.A)(function*(){e.onMyLocationClickListener&&e.onMyLocationClickListener.remove(),e.onMyLocationClickListener=n?yield t.P.addListener("onMyLocationClick",e.generateCallback(n)):void 0})()}removeAllMapListeners(){var n=this;return(0,r.A)(function*(){n.onBoundsChangedListener&&(n.onBoundsChangedListener.remove(),n.onBoundsChangedListener=void 0),n.onCameraIdleListener&&(n.onCameraIdleListener.remove(),n.onCameraIdleListener=void 0),n.onCameraMoveStartedListener&&(n.onCameraMoveStartedListener.remove(),n.onCameraMoveStartedListener=void 0),n.onClusterClickListener&&(n.onClusterClickListener.remove(),n.onClusterClickListener=void 0),n.onClusterInfoWindowClickListener&&(n.onClusterInfoWindowClickListener.remove(),n.onClusterInfoWindowClickListener=void 0),n.onInfoWindowClickListener&&(n.onInfoWindowClickListener.remove(),n.onInfoWindowClickListener=void 0),n.onMapClickListener&&(n.onMapClickListener.remove(),n.onMapClickListener=void 0),n.onPolylineClickListener&&(n.onPolylineClickListener.remove(),n.onPolylineClickListener=void 0),n.onMarkerClickListener&&(n.onMarkerClickListener.remove(),n.onMarkerClickListener=void 0),n.onPolygonClickListener&&(n.onPolygonClickListener.remove(),n.onPolygonClickListener=void 0),n.onCircleClickListener&&(n.onCircleClickListener.remove(),n.onCircleClickListener=void 0),n.onMarkerDragStartListener&&(n.onMarkerDragStartListener.remove(),n.onMarkerDragStartListener=void 0),n.onMarkerDragListener&&(n.onMarkerDragListener.remove(),n.onMarkerDragListener=void 0),n.onMarkerDragEndListener&&(n.onMarkerDragEndListener.remove(),n.onMarkerDragEndListener=void 0),n.onMyLocationButtonClickListener&&(n.onMyLocationButtonClickListener.remove(),n.onMyLocationButtonClickListener=void 0),n.onMyLocationClickListener&&(n.onMyLocationClickListener.remove(),n.onMyLocationClickListener=void 0)})()}generateCallback(n){const e=this.id;return i=>{i.mapId==e&&n(i)}}}var a=l(1224),P=l(5312),o=l(3953);function b(c,n){if(1&c&&(o.j41(0,"ion-item",3)(1,"ion-label"),o.EFF(2),o.j41(3,"p"),o.EFF(4),o.k0s(),o.j41(5,"p"),o.EFF(6),o.k0s(),o.j41(7,"p"),o.EFF(8),o.k0s()()()),2&c){const e=o.XpG();o.R7$(2),o.SpI(" ",e.place.name," "),o.R7$(2),o.JRh(e.place.description),o.R7$(2),o.SpI("Lat: ",e.place.marker.coordinate.lat,""),o.R7$(2),o.SpI("Lng: ",e.place.marker.coordinate.lng,"")}}let B=(()=>{class c{constructor(e){this.modalController=e}ngOnInit(){}dismiss(){this.modalController.dismiss()}static#e=this.\u0275fac=function(i){return new(i||c)(o.rXU(a.W3))};static#n=this.\u0275cmp=o.VBU({type:c,selectors:[["app-place-detail"]],standalone:!0,features:[o.aNF],decls:9,vars:1,consts:[["slot","end"],[3,"click"],["slot","icon-only","name","close"],["lines","none"]],template:function(i,s){1&i&&(o.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),o.EFF(3,"Marcador"),o.k0s(),o.j41(4,"ion-buttons",0)(5,"ion-button",1),o.bIt("click",function(){return s.dismiss()}),o.nrm(6,"ion-icon",2),o.k0s()()()(),o.j41(7,"ion-content"),o.DNE(8,b,9,4,"ion-item",3),o.k0s()),2&i&&(o.R7$(8),o.vxM(s.place?8:-1))},dependencies:[a.eU,a.ai,a.QW,a.Jm,a.iq,a.W9,a.uz,a.he,a.BC]})}return c})();const A=c=>({"--background":c}),D=P.c.firebaseConfig.apiKey;let O=(()=>{class c{constructor(e,i){this.menuController=e,this.modalController=i,this.transparency=!1}ionViewDidEnter(){this.menuController.enable(!1,"main"),this.transparency=!0,this.initMap()}ionViewDidLeave(){this.menuController.enable(!0,"main"),this.transparency=!1,this.map?.destroy()}ngOnInit(){}initMap(){var e=this;return(0,r.A)(function*(){e.map=yield d.create({id:"my-map",element:document.getElementById("map"),apiKey:D,language:"es",config:{disableDefaultUI:!1,center:{lat:-2.861306136001268,lng:-78.99730914182649},zoom:15}}),e.map.enableCurrentLocation(!0),e.setMyLocation()})()}setMarkerDemo(){this.map.addMarker({coordinate:{lat:-2.9045937,lng:-78.9836343}})}setPlacesDemo(){var e=this;E.forEach(function(){var i=(0,r.A)(function*(s){const u=yield e.map.addMarker(s.marker);s.id=u});return function(s){return i.apply(this,arguments)}}())}addListeners(){this.map.setOnMapClickListener(e=>{console.log("MapClickListener -> ",e),this.map.addMarker({title:"hola mundo",snippet:"un texto m\xe1s largo",draggable:!0,coordinate:{lat:e.latitude,lng:e.longitude}})}),this.map.setOnInfoWindowClickListener(e=>{console.log("InfoWindowClickListener -> ",e)}),this.map.setOnMarkerClickListener(e=>{console.log("MarkerClickListener -> ",e);const i=E.find(s=>s.id==e.markerId);i&&this.showDetailMarker(i)})}setMyLocation(){var e=this;this.map.setOnMapClickListener(function(){var i=(0,r.A)(function*(s){console.log("MapClickListener -> ",s),e.setMarkerMyPosition(s.latitude,s.longitude)});return function(s){return i.apply(this,arguments)}}()),this.map.setOnMarkerDragEndListener(i=>{console.log("MarkerDragEndListener -> ",i),this.myLocation.marker.coordinate={lat:i.latitude,lng:i.longitude}}),this.map.setOnMarkerClickListener(i=>{console.log("setMyLocation MarkerClickListener -> ",i),i.markerId==this.myLocation.id&&this.showDetailMarker(this.myLocation)}),this.map.setOnMyLocationClickListener(i=>{console.log("MyLocationClickListener -> ",i),this.setMarkerMyPosition(i.latitude,i.longitude)}),this.map.setOnMyLocationButtonClickListener(i=>{console.log("MyLocationButtonClickListener -> ",i)})}showDetailMarker(e){var i=this;return(0,r.A)(function*(){yield(yield i.modalController.create({component:B,componentProps:{place:e},initialBreakpoint:.25,breakpoints:[0,.25]})).present()})()}setMarkerMyPosition(e,i){var s=this;return(0,r.A)(function*(){s.myLocation&&s.map.removeMarkers([s.myLocation.id]),s.myLocation={name:"Mi Ubicaci\xf3n",description:"Enviar pedido a est\xe1 ubicaci\xf3n",marker:{title:"Mi Ubicaci\xf3n",snippet:"Enviar pedido a est\xe1 ubicaci\xf3n",draggable:!0,coordinate:{lat:e,lng:i}}};const u=yield s.map.addMarker(s.myLocation.marker);s.myLocation.id=u,s.centerMarkerWithBounds(s.myLocation.marker)})()}centerMarkerWithBounds(e){console.log("centerMarkerWithBounds");const i=.001;let L=new h.q({southwest:{lat:e.coordinate.lat-i,lng:e.coordinate.lng-i},center:e.coordinate,northeast:{lat:e.coordinate.lat+i,lng:e.coordinate.lng+i}});this.map.fitBounds(L,100)}centerMarker(e){console.log("centerMarker"),this.map.setCamera({coordinate:e.coordinate,zoom:16})}static#e=this.\u0275fac=function(i){return new(i||c)(o.rXU(a._t),o.rXU(a.W3))};static#n=this.\u0275cmp=o.VBU({type:c,selectors:[["app-map-direccion-pedido"]],standalone:!0,features:[o.aNF],decls:8,vars:5,consts:[[3,"translucent"],["slot","start"],["defaultHref","/store/carrito"],[3,"fullscreen","ngStyle"],["id","map"]],template:function(i,s){1&i&&(o.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),o.nrm(3,"ion-back-button",2),o.k0s(),o.j41(4,"ion-title"),o.EFF(5,"Mapa"),o.k0s()()(),o.j41(6,"ion-content",3),o.nrm(7,"capacitor-google-map",4),o.k0s()),2&i&&(o.Y8G("translucent",!0),o.R7$(6),o.Y8G("fullscreen",!0)("ngStyle",o.eq3(3,A,s.transparency?"transparent":"var(--ion-color-light)")))},dependencies:[a.eU,a.ai,a.el,a.BC,a.W9,a.QW,g.MD,g.B3],styles:["capacitor-google-map[_ngcontent-%COMP%], google-map[_ngcontent-%COMP%]{display:inline-block;width:100%;height:100%}"]})}return c})();const E=[{name:"Lugar A",description:"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Qui consequuntur eos eveniet sint sit necessitatibus perspiciatis quisquam earum! Officiis rerum pariatur incidunt, asperiores quasi veritatis fugiat ex saepe neque ab?",marker:{title:"Lugar A",snippet:"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Qui consequuntur eos eveniet sint sit necessitatibus perspiciatis quisquam earum! Officiis rerum pariatur incidunt, asperiores quasi veritatis fugiat ex saepe neque ab?",iconUrl:"assets/icons/moto.png",iconSize:{width:35,height:35},coordinate:{lat:-2.90486435760786,lng:-78.98343901973725}}},{name:"Lugar B",description:"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Qui consequuntur eos eveniet sint sit necessitatibus perspiciatis quisquam earum! Officiis rerum pariatur incidunt, asperiores quasi veritatis fugiat ex saepe neque ab?",marker:{title:"Lugar B",snippet:"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Qui consequuntur eos eveniet sint sit necessitatibus perspiciatis quisquam earum! Officiis rerum pariatur incidunt, asperiores quasi veritatis fugiat ex saepe neque ab?",iconUrl:"assets/icons/restaurante.png",iconSize:{width:35,height:35},coordinate:{lat:-2.904086729776945,lng:-78.98409206727841}}}]}}]);